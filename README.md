# Приложение для анализа банковских транзакций
### Курсовая для SkyPro

---
## Функционал


### Главная страница(views.py):

1. ```greetings(time: str = time) -> str```
    
    Преобразует время в приветствие

    time: время

    return: Приветствие относительно заданного времени
---
2. ```cards(path_to_xlsx: str) -> list```
    
    Ищет в файле уникальные данные карт и подсчитывает остаток на них и кешбек

    path_to_xlsx: путь до файла с транзакциями
    
    return: Список уникальных карт
---
3. ```top_transactions(path_to_xlsx: str) -> list```

    Составляет топ 5 трат или пополнений
   
    path_to_xlsx: путь до файла с транзакциями

    return: Список из 5 трат
---
4. ```currency_rates(settings: str) -> list```
    
    Составляет список стоимости валют
    
    settings: путь до файла с названиями валют

    return: список валют с актуальной стоимостью
---
5. ```stock_prices(settings: str) -> list```
    
    Составляет список стоимости акций
    
    settings: путь до файла с названиями компаний
    
    return: список акций с актуальной стоимостью
---
6. ```main_page() -> str```
    
    Преобразовывает результат всех функций в json

    return: json со всеми функциями

---

---

### Вспомогательные функции(utils.py):

1. ```read_xlsx(path_to_xlsx: str, *cols: str) -> list```
    
    Читает Excel и выводит требуемые колонки

    path_to_xlsx: Путь к Excel

    cols: Колонки через запятую

    return: Список словарей из файла
---
2. ```rounder(sum_dict: dict) -> list```
    
    Округляет все значения в словаре до 2 знаков после запятой

    sum_dict: Словарь

    return: Список словарей с округленными значениями

---

---

### Сервисы(services.py)

1. ```easy_search(path_to_xlsx: str, search: str) -> list```
    
    Простой поиск по файлу

    path_to_xlsx: Путь к файлу

    search: Искомое слово или его отрывок

    return: Список словарей с найденным обрывком
---
2. ```transfers_by_individuals(path_to_xlsx: str) -> list```
    
    Поиск всех переводов

    path_to_xlsx: Путь к файлу

    return: Список словарей с переводами

---

---

### Отчеты(reports.py)
1. ```@reports_file(name_file: str)```
    
    Записывает все выданные функцией результаты в файл с названием

    name_file: Название файла

    return: Результат функции
---
2. ```spending_by_weekday(df: list, date: str=today) -> list```
    
    Возвращает все операции совершенные в эту дату

    df: DataFrame с операциями

    date: дата по которой необходимо искать

    return: Список с операциями

---

---


---

---
Все протестировано при помощи pytest с использованием Mock и patch